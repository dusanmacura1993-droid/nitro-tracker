<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8" />
<title>Mandrilos Mechanic – Control Panel</title>

<!-- Firebase (compat – jednostavnije za početak) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAbxxQyWyf9iAT_AE9b-o41BRqcrnXaNy8",
  authDomain: "nitro-55cdd.firebaseapp.com",
  databaseURL: "https://nitro-55cdd-default-rtdb.firebaseio.com",
  projectId: "nitro-55cdd",
  storageBucket: "nitro-55cdd.appspot.com",
  messagingSenderId: "365206404307",
  appId: "1:365206404307:web:794d0420e125760a572826"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();
</script>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#0b0b0b;
  color:#eaeaea;
}
header{
  display:flex;
  align-items:center;
  gap:15px;
  padding:15px 25px;
  background:#111;
  border-bottom:2px solid #222;
}
.logo{
  height:55px;
}
.title{
  font-size:20px;
  font-weight:bold;
  letter-spacing:2px;
}
.tabs{
  display:flex;
  gap:10px;
  padding:15px;
  background:#0f0f0f;
}
.tab{
  padding:10px 18px;
  cursor:pointer;
  background:#1a1a1a;
  border:1px solid #333;
  border-radius:6px;
  transition:.2s;
}
.tab:hover{background:#222}
.tab.active{
  background:#e53935;
  border-color:#e53935;
}
.section{
  display:none;
  padding:25px;
  animation:fade .3s ease;
}
.section.active{display:block}

@keyframes fade{
  from{opacity:0;transform:translateY(5px)}
  to{opacity:1;transform:none}
}

.box{
  background:#121212;
  border:1px solid #2a2a2a;
  padding:20px;
  max-width:420px;
}
input{
  width:100%;
  padding:10px;
  background:#1c1c1c;
  border:1px solid #333;
  color:#fff;
  margin-top:10px;
}
button{
  margin-top:12px;
  padding:10px;
  width:100%;
  background:#e53935;
  border:none;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
button:hover{opacity:.9}
.notice{
  margin-top:10px;
  font-size:14px;
  color:#aaa;
}
.admin-lock{
  max-width:300px;
}
</style>
</head>

<body>

<header>
  <!-- LOGO -->
  <img src="C:\assets/logo.png" class="logo" alt="Mandrilos Logo">
  <div class="title">MANDRILOS MECHANIC</div>
</header>

<!-- TABOVI -->
<div class="tabs">
  <div class="tab active" onclick="openTab('customer')">Customer</div>
  <div class="tab" onclick="openTab('mechanic')">Mehaničar</div>
  <div class="tab" onclick="openTab('public')">Statistika</div>
  <div class="tab" onclick="openTab('nitro')">Nitro</div>
  <div class="tab" onclick="openTab('admin')">Admin</div>
</div>

<!-- CUSTOMER -->
<div id="customer" class="section active">
  <h2>Račun za mušteriju</h2>
  <p>Ovde će se prikazivati samo konačna cena (bez interne računice).</p>
</div>

<!-- MEHANIČAR -->
<div id="mechanic" class="section">
  <div class="box">
    <h3>Ulaz za mehaničara</h3>
    <input id="mechName" placeholder="Unesi svoje ime">
    <button onclick="loginMechanic()">UĐI</button>
    <div class="notice">Videćeš samo svoje podatke.</div>
  </div>

  <div id="mechPanel" style="display:none;margin-top:30px">
    <h3>Mehaničar: <span id="mechLabel"></span></h3>
    <p>(Ovde slede unos poslova i tvoja računica – FAZA 2)</p>
  </div>
</div>

<!-- PUBLIC -->
<div id="public" class="section">
  <h2>Javna statistika</h2>
  <p>Svi vide koliko je ko uradio Full tune i Custom sound.</p>
</div>

<!-- NITRO -->
<div id="nitro" class="section">
  <h2>Nitro & Materijali</h2>
  <p>Live tracker – bez resetovanja dok admin ne exportuje.</p>
</div>

<!-- ADMIN -->
<div id="admin" class="section">
  <div class="box admin-lock" id="adminLock">
    <h3>Admin pristup</h3>
    <input type="password" id="adminPin" placeholder="Unesi PIN">
    <button onclick="unlockAdmin()">OTKLJUČAJ</button>
  </div>

  <div id="adminPanel" style="display:none">
    <h2>ADMIN PANEL</h2>
    <p>Dodavanje / brisanje mehaničara, export, reset (FAZA 3).</p>
  </div>
</div>

<script>
function openTab(id){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.querySelector(`[onclick="openTab('${id}')"]`).classList.add('active');
  document.getElementById(id).classList.add('active');
}

function loginMechanic(){
  const name=document.getElementById('mechName').value.trim();
  if(!name) return alert("Unesi ime");
  localStorage.setItem("mechanic",name);
  document.getElementById("mechLabel").innerText=name;
  document.getElementById("mechPanel").style.display="block";
}

function unlockAdmin(){
  const pin=document.getElementById("adminPin").value;
  if(pin==="2468"){
    document.getElementById("adminLock").style.display="none";
    document.getElementById("adminPanel").style.display="block";
  }else{
    alert("Pogrešan PIN");
  }
}
</script>

</body>
</html>
